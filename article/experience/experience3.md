# 零基础前端成长攻略「三」

## 5 提升

转正之后，我也如愿迎来了工作后第一次的，项目重构。

### 5.1 重构开始

我负责的微店项目，新出了一套视觉设计。涉及包括首页在内的 4 个一级页面，以及一个重要模块。由于任务量比较大，**同事X**也完成了之前的任务，因此回到了微店项目中。

按照常规做法，算是多个页面的更新。但是涉及到的页面经过多次迭代之后，实际上已经冗余不堪，新版和老版视觉之间差异较大。项目原有的，差不多一年前构建的 gulp + jQuery 技术栈已经远不满足现状。

因此，在征得领导同意后，我和**同事X**决定使用 vue 框架开发新版页面。不过需要解决以下几个问题：

- 新旧版本页面之间的交互
  在 vue 框架中，页面通过路由切换，可以使用 vuex。但是跳转到老版页面时，相当于刷新页面，无可避免的会丢失所有 vuex 状态。初期考虑过通过 sessionStorage 暂存，不过实际上，各个老页面中已经存在有许多读取 sessionStorage 的操作。
  假设要使用 vuex，要么兼容，要么使用两套逻辑，因此决定不在项目中使用 vuex，按照之前的逻辑使用 sessionStorage
